<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ù‚Ù‡ÙˆØ© ğŸ“º</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="theme.js"></script>
    <style>
        /* Ù†ÙØ³ Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ù…Ø¹ Ø¥Ø¶Ø§ÙØ§Øª */
        body { background-color: #121212; color: white; overflow-x: hidden; }
        .tv-container { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 90vh; padding: 20px; }
        
        /* ØªØ¹Ø¯ÙŠÙ„ Ø¹Ø´Ø§Ù† Ø§Ù„Ø´Ø§Øª ÙŠÙŠØ¬ÙŠ Ø¬Ù†Ø¨ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
        .main-layout {
            display: flex;
            gap: 20px;
            width: 100%;
            max-width: 1200px;
            align-items: flex-start;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† */
        .retro-tv {
            flex: 2;
            min-width: 300px;
            position: relative;
            background: #4e342e; padding: 20px; border-radius: 30px;
            box-shadow: inset 0 0 40px rgba(0,0,0,0.8), 0 20px 50px rgba(0,0,0,0.6), 0 0 0 10px #3e2723;
            display: flex; gap: 20px;
        }
        
        /* Ø§Ù„Ø´Ø§Øª */
        .chat-box {
            flex: 1;
            min-width: 280px;
            height: 500px;
            background: #222;
            border-radius: 20px;
            border: 4px solid #3e2723;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .chat-header { background: #3e2723; padding: 10px; text-align: center; font-weight: bold; }
        .chat-messages { flex: 1; padding: 10px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
        .chat-input-area { padding: 10px; background: #1a1a1a; display: flex; gap: 5px; }
        .chat-input { flex: 1; padding: 8px; border-radius: 20px; border: none; background: #333; color: white; }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø´Ø§Øª */
        .msg { padding: 8px 12px; border-radius: 15px; max-width: 80%; font-size: 0.9rem; }
        .msg.mine { background: var(--accent-yellow); color: black; align-self: flex-end; }
        .msg.others { background: #444; color: white; align-self: flex-start; }
        .msg-sender { font-size: 0.7rem; color: #ccc; margin-bottom: 2px; display: block; }

        /* Ø¨Ø§Ù‚ÙŠ Ø³ØªØ§ÙŠÙ„ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ù‚Ø¯ÙŠÙ… */
        .tv-screen-frame { flex: 1; background: #000; border-radius: 20px; border: 5px solid #222; box-shadow: inset 0 0 20px rgba(0,0,0,1); position: relative; overflow: hidden; aspect-ratio: 16/9; }
        .no-touch-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; background: transparent; display: none; }
        .paused-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 9; background: black; display: none; align-items: center; justify-content: center; flex-direction: column; }
        .video-wrapper { width: 100%; height: 100%; }
        .video-wrapper iframe, .video-wrapper video { width: 100%; height: 100%; object-fit: cover; border: none; }
        .tv-side-panel { width: 180px; background: #3e2723; border-radius: 15px; padding: 15px; display: flex; flex-direction: column; align-items: center; gap: 20px; border-left: 2px solid #5d4037; height: 100%; min-height: 400px; }
        .channel-roller-container { position: relative; width: 100px; height: 100px; margin-bottom: 10px; }
        .channel-knob { width: 100%; height: 100%; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #555, #222); border: 4px solid #111; box-shadow: 0 5px 15px rgba(0,0,0,0.5); cursor: pointer; transition: transform 0.3s; display: flex; align-items: center; justify-content: center; position: relative; }
        .channel-knob::after { content: ''; position: absolute; top: 10px; width: 8px; height: 20px; background: var(--accent-yellow); border-radius: 4px; }
        .speaker-grill { width: 100%; height: 80px; background: repeating-linear-gradient(90deg, #222, #222 2px, #3e2723 2px, #3e2723 6px); border-radius: 5px; margin-top: auto; border: 1px solid #111; }
        .static-noise { position: absolute; top:0; left:0; width:100%; height:100%; background: url('https://media.giphy.com/media/oEI9uBYSzLpBK/giphy.gif'); background-size: cover; opacity: 0.15; pointer-events: none; display: none; z-index: 5; }
        .admin-panel { margin-top: 20px; background: #2c1810; padding: 15px; border-radius: 10px; width: 100%; max-width: 900px; display: none; border: 1px solid var(--accent-yellow); }

        /* Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ (Popup) */
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); align-items: center; justify-content: center; }
        .modal-content { background-color: #2c1810; padding: 20px; border: 1px solid var(--accent-yellow); border-radius: 10px; width: 90%; max-width: 400px; text-align: center; color: white; max-height: 80vh; overflow-y: auto; }
        .friend-item { display: flex; align-items: center; justify-content: space-between; padding: 10px; border-bottom: 1px solid #444; }
        .friend-item img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; }
        
        /* Ø²Ø±Ø§Ø± Ø§Ù„Ø±ÙŠÙ…ÙˆØª ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ† */
        .remote-btn { background: none; border: none; color: var(--accent-yellow); cursor: pointer; font-size: 1.1rem; }
        .remote-btn:hover { color: white; }

        @media (max-width: 900px) {
            .main-layout { flex-direction: column; align-items: center; }
            .retro-tv { width: 100%; flex-direction: column; }
            .chat-box { width: 100%; height: 300px; }
            .tv-side-panel { width: 100%; flex-direction: row; height: auto; min-height: auto; justify-content: space-around; }
            .speaker-grill { display: none; }
        }
        /* --- Ø³ØªØ§ÙŠÙ„ Ù…ÙƒØ§Ù† ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ†Ùƒ (URL Input) --- */

.url-input-group {
    display: flex;
    gap: 10px; /* Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ù€ Input ÙˆØ§Ù„Ø²Ø±Ø§Ø± */
    background: rgba(0, 0, 0, 0.3); /* Ø®Ù„ÙÙŠØ© ØºØ§Ù…Ù‚Ø© Ø´ÙØ§ÙØ© */
    padding: 10px;
    border-radius: 12px;
    border: 1px solid #3e2723; /* Ø¨Ø±ÙˆØ§Ø² Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ */
    margin-bottom: 15px;
    align-items: center;
}

.url-input-group input {
    flex: 1; /* ÙŠØ§Ø®Ø¯ Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù…ØªØ§Ø­Ø© */
    padding: 12px 15px;
    border-radius: 8px;
    border: 1px solid #5d4037;
    background: #1a1a1a; /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ø§Ù„Ù€ Input */
    color: white; /* Ù„ÙˆÙ† Ø§Ù„ÙƒØªØ§Ø¨Ø© */
    font-family: inherit; /* Ù†ÙØ³ ÙÙˆÙ†Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ */
    font-size: 0.95rem;
    transition: all 0.3s ease;
    outline: none;
}

/* Ù„Ù…Ø§ ØªØ¯ÙˆØ³ Ø¬ÙˆÙ‡ Ø§Ù„Ù€ Input */
.url-input-group input:focus {
    border-color: var(--accent-yellow); /* ÙŠÙ‚Ù„Ø¨ Ø¯Ù‡Ø¨ÙŠ */
    box-shadow: 0 0 8px rgba(193, 154, 107, 0.3); /* ØªÙˆÙ‡Ø¬ Ø®ÙÙŠÙ */
    background: #222;
}

/* Ø²Ø±Ø§Ø± "Ø´ØºÙ„" Ø§Ù„Ù„ÙŠ Ø¬Ù†Ø¨ Ø§Ù„Ù€ Input */
.url-input-group button {
    padding: 10px 20px;
    white-space: nowrap; /* Ø§Ù„ÙƒÙ„Ø§Ù… Ù…ÙŠØªÙƒØ³Ø±Ø´ */
    height: 100%; /* Ø¹Ø´Ø§Ù† ÙŠØ¨Ù‚Ù‰ Ù†ÙØ³ Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù€ Input ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹ */
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
}

/* Ø±ÙŠØ³Ø¨ÙˆÙ†Ø³ÙŠÙ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
@media (max-width: 600px) {
    .url-input-group {
        flex-direction: column; /* ÙÙˆÙ‚ Ø¨Ø¹Ø¶ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        gap: 8px;
    }
    .url-input-group input, 
    .url-input-group button {
        width: 100%; /* Ø§Ù„Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„ */
    }
}
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="logo"><div class="logo1"><img src="images/logo1.png" class="logoimg"></div>Ø§Ù„Ù‚Ù‡ÙˆØ©</div>
        <!-- <div class="logo"><div class="logo1"><img src="images/logo1.png" class="logoimg"></div>Ø§Ù„Ù‚Ù‡ÙˆØ© TV</div> -->
        <!-- <ul class="nav-links"> -->
            <ul>
            <li><a href="dashboard.html"><i class="fa-solid fa-mug-hot"></i> Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµØ§Ù„Ø©</a></li>
        <!-- </ul> --></ul>
    </nav>

    <div class="tv-container">
        
        <div id="setupArea" style="text-align: center; margin-top: -50px;">
            <i class="fa-solid fa-tv fa-4x" style="color: var(--accent-yellow); margin-bottom: 20px;"></i>
            <h1>Ø³ÙŠÙ†Ù…Ø§ Ø§Ù„Ù‚Ù‡ÙˆØ© Ø§Ù„Ø¨Ù„Ø¯ÙŠ</h1>
            <p style="color: #aaa; margin-bottom: 20px;">Ù„Ù…Ø© Ø§Ù„ØµØ­Ø§Ø¨ Ø¹Ù„Ù‰ ÙÙŠÙ„Ù… Ø­Ù„Ùˆ Ø£Ùˆ Ù…Ø§ØªØ´ ÙƒÙˆØ±Ø©</p>
            <button id="createRoomBtn" class="btn-primary" style="font-size: 1.2rem; padding: 10px 30px;">
                <i class="fa-solid fa-power-off"></i> Ø´ØºÙ„ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ†
            </button>
        </div>

        <div id="tvArea" style="display: none; width: 100%; flex-direction: column; align-items: center;">
            
            <div class="main-layout">
                <div class="retro-tv">
                    <div class="tv-screen-frame">
                        <div class="no-touch-overlay" id="viewerOverlay"></div>
                        <div class="paused-overlay" id="pausedOverlay">
                            <i class="fa-solid fa-pause fa-3x" style="color: var(--accent-yellow);"></i>
                            <p style="margin-top: 10px;">Ø§Ù„Ù…Ø¹Ù„Ù… ÙˆÙ‚Ù Ø§Ù„Ø¹Ø±Ø¶</p>
                        </div>
                        <div class="static-noise" id="staticNoise"></div>
                        <div class="video-wrapper" id="videoContainer"></div>
                    </div>

                    <div class="tv-side-panel">
                        <div style="text-align: center;">
                            <div class="channel-roller-container">
                                <div class="channel-knob" id="channelKnob" title="Ù„Ù Ø§Ù„Ø¨ÙƒØ±Ø© Ø¹Ø´Ø§Ù† ØªÙ‚Ù„Ø¨"></div>
                            </div>
                            <div class="knob-label">Ø§Ù„Ù‚Ù†Ø§Ø©: <span id="channelNum" style="color: var(--accent-yellow);">1</span></div>
                        </div>

                        <div id="powerLed" style="width: 15px; height: 15px; background: red; border-radius: 50%; box-shadow: 0 0 10px red; margin: 10px 0;"></div>

                        <div style="text-align: center; font-size: 0.8rem; color: #aaa; width: 100%;">
                            <div id="statusText">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
                            <div style="margin-top: 10px; border-top: 1px solid #444; padding-top: 5px;">
                                <span>Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯ÙŠÙ†:</span>
                                <div id="viewersList" style="margin-top: 5px; max-height: 100px; overflow-y: auto;"></div>
                            </div>
                        </div>

                        <div class="speaker-grill"></div>
                    </div>
                </div>

                <div class="chat-box">
                    <div class="chat-header"><i class="fa-regular fa-comments"></i> Ø§Ù„Ù„Ù…Ø© Ø§Ù„Ø­Ù„ÙˆØ©</div>
                    <div class="chat-messages" id="chatMessages"></div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" class="chat-input" placeholder="Ù‚ÙˆÙ„ Ø­Ø§Ø¬Ø©..." autocomplete="off">
                        <button id="sendChatBtn" class="btn-primary" style="padding: 5px 12px;"><i class="fa-solid fa-paper-plane"></i></button>
                    </div>
                </div>
            </div>

            <div id="adminPanel" class="admin-panel">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h3 style="color: var(--accent-yellow); margin: 0;"><i class="fa-solid fa-user-tie"></i> ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù…</h3>
                    <div style="display: flex; gap: 10px;">
                        <button id="inviteBtn" class="btn-primary" style="background: #2196F3;"><i class="fa-solid fa-user-plus"></i> Ø§Ø¹Ø²Ù… ØµØ­Ø§Ø¨Ùƒ</button>
                        <button id="togglePlayBtn" class="btn-primary" style="background: #4CAF50;"><i class="fa-solid fa-stop"></i> ÙˆÙ‚Ù Ø§Ù„Ø¹Ø±Ø¶</button>
                    </div>
                </div>
                
                <div class="url-input-group">
                    <input type="text" id="customUrlInput" placeholder="Ø­Ø· Ù„ÙŠÙ†Ùƒ ÙŠÙˆØªÙŠÙˆØ¨ Ø£Ùˆ ÙÙŠØ¯ÙŠÙˆ Ù…Ø¨Ø§Ø´Ø±...">
                    <button id="playCustomBtn" class="btn-primary">Ø´ØºÙ„</button>
                </div>
                
                <div style="margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn-outline" onclick="changeChannel(1)" style="color: white; border-color: #555;">1. Ù…Ø§ØªØ´Ø§Øª</button>
                    <button class="btn-outline" onclick="changeChannel(2)" style="color: white; border-color: #555;">2. Ù‚Ø±Ø¢Ù†</button>
                    <button class="btn-outline" onclick="changeChannel(3)" style="color: white; border-color: #555;">3. Ø£ÙÙ„Ø§Ù…</button>
                    <button class="btn-outline" onclick="changeChannel(4)" style="color: white; border-color: #555;">4. Ø£ØºØ§Ù†ÙŠ</button>
                </div>
            </div>

        </div>
    </div>

    <div id="inviteModal" class="modal">
        <div class="modal-content">
            <h3 style="margin-bottom: 15px; color: var(--accent-yellow);">Ø§Ø¹Ø²Ù… Ø§Ù„Ø´Ù„Ø©</h3>
            <div id="friendsListContainer">
                <p>Ø¨Ù†Ø¬ÙŠØ¨ Ø§Ù„ØµØ­Ø§Ø¨...</p>
            </div>
            <button onclick="document.getElementById('inviteModal').style.display='none'" class="btn-outline" style="margin-top: 15px; width: 100%; border-color: #555; color: white;">Ù‚ÙÙ„</button>
        </div>
    </div>

    <script type="module" src="tv.js"></script>
</body>
</html>